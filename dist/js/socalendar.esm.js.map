{
  "version": 3,
  "sources": ["../../src/js/soCalendar.ts"],
  "sourcesContent": ["type dayFormat = \"narrow\" | \"short\" | \"long\";\r\ntype MonthFormat = \"short\" | \"long\";\r\n\r\ninterface SoCalendarOptions {\r\n  iconPreviousMonth?: string;\r\n  iconNextMonth?: string;\r\n  iconPreviousYear?: string;\r\n  iconNextYear?: string;\r\n  iconEdit?: string;\r\n  iconBack?: string;\r\n  iconToday?: string;\r\n  iconCancel?: string;\r\n  iconConfirm?: string;\r\n  iconPreviousDecade?: string;\r\n  iconNextDecade?: string;\r\n  locale?: string;\r\n  minDate?: Date;\r\n  maxDate?: Date;\r\n  selector?: string;\r\n  dateFormat?: string;\r\n  weekStartsOnMonday?: boolean;\r\n}\r\n\r\nexport default class SoCalendar {\r\n  private dialog!: HTMLDialogElement;\r\n  private content!: HTMLElement;\r\n  private contentPrev!: HTMLElement;\r\n  private contentCurrent!: HTMLElement;\r\n  private contentNext!: HTMLElement;\r\n  private monthLabel!: HTMLButtonElement;\r\n  private yearLabel!: HTMLButtonElement;\r\n  private todayBtn!: HTMLButtonElement;\r\n  private prevMonthBtn!: HTMLButtonElement;\r\n  private nextMonthBtn!: HTMLButtonElement;\r\n  private prevYearBtn!: HTMLButtonElement;\r\n  private nextYearBtn!: HTMLButtonElement;\r\n  private backBtn!: HTMLButtonElement;\r\n  private editBtn!: HTMLButtonElement;\r\n  private cancelBtn!: HTMLButtonElement;\r\n  private confirmBtn!: HTMLButtonElement;\r\n  private targetElement!: HTMLInputElement\r\n\r\n  // TODO: Look to move these somewhere else\r\n  private iconPreviousMonth!: string;\r\n  private iconNextMonth!: string;\r\n  private iconPreviousYear!: string;\r\n  private iconNextYear!: string;\r\n  private iconEdit!: string;\r\n  private iconBack!: string;\r\n  private iconToday!: string;\r\n  private iconCancel!: string;\r\n  private iconConfirm!: string;\r\n  private iconPreviousDecade!: string;\r\n  private iconNextDecade!: string;\r\n\r\n  private locale?: string;\r\n  private date: Date = new Date();\r\n  private today: Date = new Date();\r\n  private referenceDate: Date = new Date(1970, 0, 4);\r\n  private minDate!: Date | false;\r\n  private maxDate!: Date | false;\r\n  private weekDays!: [string, string][];\r\n  private year: number = new Date().getFullYear();\r\n  private month: number = new Date().getMonth();\r\n  private day: number = new Date().getDay();\r\n  private selector: string = '.date-picker';\r\n  private dateFormat?: string;\r\n  private weekStartsOnMonday?: boolean;\r\n  private dateRestrictions: RegExp = /[0-9\\/-]/g;\r\n\r\n  private static readonly DEFAULTS: Required<SoCalendarOptions> = {\r\n    iconPreviousMonth: `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"32\" height=\"32\" fill=\"currentColor\" viewBox=\"0 0 256 256\"><path d=\"M165.66,202.34a8,8,0,0,1-11.32,11.32l-80-80a8,8,0,0,1,0-11.32l80-80a8,8,0,0,1,11.32,11.32L91.31,128Z\"></path></svg>`,\r\n    iconNextMonth: `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"32\" height=\"32\" fill=\"currentColor\" viewBox=\"0 0 256 256\"><path d=\"M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z\"></path></svg>`,\r\n    iconPreviousYear: `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"32\" height=\"32\" fill=\"currentColor\" viewBox=\"0 0 256 256\"><path d=\"M197.66,202.34a8,8,0,0,1-11.32,11.32l-80-80a8,8,0,0,1,0-11.32l80-80a8,8,0,0,1,11.32,11.32L123.31,128ZM72,40a8,8,0,0,0-8,8V208a8,8,0,0,0,16,0V48A8,8,0,0,0,72,40Z\"></path></svg>`,\r\n    iconNextYear: `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"32\" height=\"32\" fill=\"currentColor\" viewBox=\"0 0 256 256\"><path d=\"M149.66,122.34a8,8,0,0,1,0,11.32l-80,80a8,8,0,0,1-11.32-11.32L132.69,128,58.34,53.66A8,8,0,0,1,69.66,42.34ZM184,40a8,8,0,0,0-8,8V208a8,8,0,0,0,16,0V48A8,8,0,0,0,184,40Z\"></path></svg>`,\r\n    iconEdit: `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"32\" height=\"32\" fill=\"currentColor\" viewBox=\"0 0 256 256\"><path d=\"M227.31,73.37,182.63,28.68a16,16,0,0,0-22.63,0L36.69,152A15.86,15.86,0,0,0,32,163.31V208a16,16,0,0,0,16,16H92.69A15.86,15.86,0,0,0,104,219.31L227.31,96a16,16,0,0,0,0-22.63ZM92.69,208H48V163.31l88-88L180.69,120ZM192,108.68,147.31,64l24-24L216,84.68Z\"></path></svg>`,\r\n    iconBack: `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"32\" height=\"32\" fill=\"currentColor\" viewBox=\"0 0 256 256\"><path d=\"M224,128a8,8,0,0,1-8,8H59.31l58.35,58.34a8,8,0,0,1-11.32,11.32l-72-72a8,8,0,0,1,0-11.32l72-72a8,8,0,0,1,11.32,11.32L59.31,120H216A8,8,0,0,1,224,128Z\"></path></svg>`,\r\n    iconToday: `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"32\" height=\"32\" fill=\"currentColor\" viewBox=\"0 0 256 256\"><path d=\"M208,32H184V24a8,8,0,0,0-16,0v8H88V24a8,8,0,0,0-16,0v8H48A16,16,0,0,0,32,48V208a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V48A16,16,0,0,0,208,32ZM72,48v8a8,8,0,0,0,16,0V48h80v8a8,8,0,0,0,16,0V48h24V80H48V48ZM208,208H48V96H208V208Zm-64-56a16,16,0,1,1-16-16A16,16,0,0,1,144,152Z\"></path></svg>`,\r\n    iconCancel: `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"32\" height=\"32\" fill=\"currentColor\" viewBox=\"0 0 256 256\"><path d=\"M205.66,194.34a8,8,0,0,1-11.32,11.32L128,139.31,61.66,205.66a8,8,0,0,1-11.32-11.32L116.69,128,50.34,61.66A8,8,0,0,1,61.66,50.34L128,116.69l66.34-66.35a8,8,0,0,1,11.32,11.32L139.31,128Z\"></path></svg>`,\r\n    iconConfirm: `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"32\" height=\"32\" fill=\"currentColor\" viewBox=\"0 0 256 256\"><path d=\"M229.66,77.66l-128,128a8,8,0,0,1-11.32,0l-56-56a8,8,0,0,1,11.32-11.32L96,188.69,218.34,66.34a8,8,0,0,1,11.32,11.32Z\"></path></svg>`,\r\n    iconPreviousDecade: `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"32\" height=\"32\" fill=\"currentColor\" viewBox=\"0 0 256 256\"><path d=\"M176,128a8,8,0,0,1-8,8H88a8,8,0,0,1,0-16h80A8,8,0,0,1,176,128Zm56,0A104,104,0,1,1,128,24,104.11,104.11,0,0,1,232,128Zm-16,0a88,88,0,1,0-88,88A88.1,88.1,0,0,0,216,128Z\"></path></svg>`,\r\n    iconNextDecade: `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"32\" height=\"32\" fill=\"currentColor\" viewBox=\"0 0 256 256\"><path d=\"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm48-88a8,8,0,0,1-8,8H136v32a8,8,0,0,1-16,0V136H88a8,8,0,0,1,0-16h32V88a8,8,0,0,1,16,0v32h32A8,8,0,0,1,176,128Z\"></path></svg>`,\r\n    selector: '.date-picker',\r\n    locale: 'en-GB',\r\n    minDate: undefined as unknown as Date,\r\n    maxDate: undefined as unknown as Date,\r\n    dateFormat: 'DD/MM/YYYY',\r\n    weekStartsOnMonday: true,\r\n  };\r\n\r\n  constructor(options: SoCalendarOptions = {}) {\r\n    const config = { ...SoCalendar.DEFAULTS, ...options };\r\n    Object.assign(this, config);\r\n\r\n    // Generate the week days based on the locale\r\n\t\tthis.generateWeekDays();\r\n\r\n\t\tconst dialog = document.createElement('dialog');\r\n\t\tdialog.id = \"soCalendar\";\r\n\t\tdialog.classList.add('socalendar');\r\n    dialog.dataset.socalendarView = 'date';\r\n    dialog.innerHTML = ` \r\n      <div class=\"socalendar-inner\">\r\n        <div class=\"socalendar-row\">\r\n          <div class=\"socalendar-label-prev\">\r\n            <button id=\"soCalendar-back\" class=\"socalendar-button socalendar-back\" type=\"button\">${this.iconBack}</button>\r\n            <button id=\"soCalendar-prev-year\" class=\"socalendar-button socalendar-prev-year\" type=\"button\">${this.iconPreviousYear}</button>\r\n            <button id=\"soCalendar-prev-month\" class=\"socalendar-button socalendar-prev-month\" type=\"button\">${this.iconPreviousMonth}</button>\r\n          </div>\r\n          <div class=\"socalendar-label\">\r\n            <button id=\"soCalendar-label-month\" class=\"socalendar-button-label socalendar-label-month\" type=\"button\">\r\n              <span data-before=\"${this.getMonthName(this.date.getMonth()-1, \"short\")}\" data-after=\"${this.getMonthName(this.date.getMonth()+1, \"short\")}\">${this.getMonthName(this.date.getMonth(), \"short\")}</span>\r\n            </button>\r\n            <button id=\"soCalendar-label-year\" class=\"socalendar-button-label socalendar-label-year\" type=\"button\">\r\n              <span data-before=\"${this.year-1}\" data-after=\"${this.year+1}\">${this.year}</span>\r\n            </button>\r\n            </div>\r\n            <div class=\"socalendar-label-next\">\r\n            <button id=\"soCalendar-edit\" class=\"socalendar-button socalendar-edit\" type=\"button\">${this.iconEdit}</button>\r\n            <button id=\"soCalendar-next-month\" class=\"socalendar-button socalendar-next-month\" type=\"button\">${this.iconNextMonth}</button>\r\n            <button id=\"soCalendar-next-year\" class=\"socalendar-button socalendar-next-year\" type=\"button\">${this.iconNextYear}</button>\r\n          </div>\r\n        </div>\r\n        <div class=\"socalendar-content-wrapper\">\r\n          <div id=\"soCalendar-content\" class=\"socalendar-content-inner\" aria-live=\"polite\">\r\n            <div id=\"soCalendar-content-prev\" class=\"socalendar-content\"></div>\r\n            <div id=\"soCalendar-content-current\" class=\"socalendar-content\"></div>\r\n            <div id=\"soCalendar-content-next\" class=\"socalendar-content\"></div>\r\n          </div>\r\n        </div>\r\n        <div id=\"soCalendar-footer\" class=\"socalendar-row\">\r\n          <button id=\"soCalendar-cancel\" class=\"socalendar-button socalendar-cancel\" type=\"button\">${this.iconCancel}</button>\r\n          <button id=\"soCalendar-today\" class=\"socalendar-button socalendar-today\" type=\"button\" disabled>${this.iconToday}</button>\r\n          <button id=\"soCalendar-confirm\" class=\"socalendar-button socalendar-confirm\" type=\"button\">${this.iconConfirm}</button>\r\n        </div>\r\n      </div>`;\r\n    document.body.appendChild(dialog);\r\n    this.dialog = dialog;\r\n    this.content = dialog.querySelector(\"#soCalendar-content\")!;\r\n    this.contentPrev = dialog.querySelector(\"#soCalendar-content-prev\")!;\r\n    this.contentCurrent = dialog.querySelector(\"#soCalendar-content-current\")!;\r\n    this.contentNext = dialog.querySelector(\"#soCalendar-content-next\")!;\r\n    this.monthLabel = dialog.querySelector(\"#soCalendar-label-month\")!;\r\n    this.yearLabel = dialog.querySelector(\"#soCalendar-label-year\")!;\r\n    this.todayBtn = dialog.querySelector(\"#soCalendar-today\")!;\r\n    this.prevMonthBtn = dialog.querySelector(\"#soCalendar-prev-month\")!;\r\n    this.nextMonthBtn = dialog.querySelector(\"#soCalendar-next-month\")!;\r\n    this.prevYearBtn = dialog.querySelector(\"#soCalendar-prev-year\")!;\r\n    this.nextYearBtn = dialog.querySelector(\"#soCalendar-next-year\")!;\r\n    this.backBtn = dialog.querySelector(\"#soCalendar-back\")!;\r\n    this.editBtn = dialog.querySelector(\"#soCalendar-edit\")!;\r\n    this.cancelBtn = dialog.querySelector(\"#soCalendar-cancel\")!;\r\n    this.confirmBtn = dialog.querySelector(\"#soCalendar-confirm\")!;\r\n    this.addListeners();\r\n  }\r\n\r\n\tprivate getMonthName(month: number, format: MonthFormat = 'short'): string {\r\n\t\treturn new Intl.DateTimeFormat(this.locale, {\r\n\t\t\tmonth: format,\r\n\t\t}).format(new Date(2000, month, 1));\r\n\t}\r\n\r\n  private generateWeekDays(format: dayFormat = 'narrow') {\r\n    this.weekDays = [];\r\n    for (let i = 0; i < 7; i++) {\r\n      let dayOffset = i;\r\n      if (this.weekStartsOnMonday) dayOffset = (i + 1) % 7;\r\n      const date = new Date(this.referenceDate);\r\n      date.setDate(this.referenceDate.getDate() + dayOffset);\r\n      this.weekDays.push([\r\n        new Intl.DateTimeFormat(this.locale, { weekday: format }).format(date),\r\n        new Intl.DateTimeFormat(this.locale, { weekday: 'long' }).format(date)\r\n      ]);\r\n    }\r\n  }\r\n\r\n\tprivate getWeekDay(day: number): string {\r\n    const [full, abbr] = this.weekDays[day];\r\n    return `<abbr title=\"${abbr}\">${full}</abbr>`;\r\n\t}\r\n\r\n  private daysInMonth(year: number, month: number): number {\r\n    return new Date(year, month + 1, 0).getDate();\r\n  }\r\n\r\n  updateMonthLabel() {\r\n    if (this.monthLabel instanceof HTMLButtonElement) this.monthLabel.innerHTML = `<span \r\n      data-before=\"${this.getMonthName(this.month-1, \"short\")}\" \r\n      data-after=\"${this.getMonthName(this.month+1, \"short\")}\">\r\n        ${this.getMonthName(this.month, \"short\")}\r\n      </span>`;\r\n  }\r\n\r\n  updateMonth(change: number): void {\r\n    const newDate = new Date(this.year, this.month + change, this.day);\r\n    const classToggle = change > 0 ? 'next' : 'prev' ;\r\n    if (this.minDate instanceof Date && newDate < this.minDate || this.maxDate instanceof Date && newDate > this.maxDate) {\r\n      return;\r\n    }\r\n    \r\n    if (this.month + change < 0) {\r\n      this.month = 11;\r\n      this.updateYear(-1);\r\n    } else if (this.month + change > 11) {\r\n      this.month = 0;\r\n      this.updateYear(1);\r\n    } else {\r\n      this.month += change;\r\n    }\r\n    this.content.classList.add(classToggle);\r\n    this.monthLabel.classList.add(classToggle);\r\n  }\r\n\r\n  updateYearLabel() {\r\n    if (this.yearLabel instanceof HTMLButtonElement) this.yearLabel.innerHTML = `<span data-before=\"${this.year-1}\" data-after=\"${this.year+1}\">${this.year}</span>`;\r\n  }\r\n\r\n  updateYear(change: number): void {\r\n    const classToggle = change > 0 ? 'next' : 'prev' ;\r\n    const newDate = new Date(this.year + change, this.month, this.day);\r\n    if (this.minDate instanceof Date && newDate < this.minDate || this.maxDate instanceof Date && newDate > this.maxDate) {\r\n      return;\r\n    }\r\n\r\n    this.yearLabel.classList.add(classToggle);\r\n    this.content.classList.add(classToggle);\r\n    this.year += change;\r\n    this.generateDatePicker();\r\n  }\r\n\r\n  private updateDate() {\r\n    // Check if date is today and toggle today button\r\n    this.todayBtn.disabled = !(this.year != this.today.getFullYear() ||  this.month != this.today.getMonth());\r\n\r\n    // Check prev/next buttons to see if they are within minDate/maxDate\r\n    const min = this.minDate instanceof Date ? this.minDate : null;\r\n    const max = this.maxDate instanceof Date ? this.maxDate : null;\r\n\r\n    const prevMonthTarget = new Date(this.year, this.month, 0); // 1st of prev month\r\n    const nextMonthTarget = new Date(this.year, this.month + 1, 1); // 1st of next month\r\n    const prevYearTarget  = new Date(this.year - 1, this.month, 1);\r\n    const nextYearTarget  = new Date(this.year + 1, this.month, 1);\r\n\r\n    this.prevMonthBtn.disabled = !!min && prevMonthTarget < this.minDate;\r\n    this.nextMonthBtn.disabled = !!max && nextMonthTarget > this.maxDate;\r\n    this.prevYearBtn.disabled  = !!min && prevYearTarget < this.minDate;\r\n    this.nextYearBtn.disabled  = !!max && nextYearTarget > this.maxDate;\r\n  }\r\n\r\n  private parseDateString(value: string): Date | false {\r\n    if (!value) return false;\r\n\r\n    // Normalize separator (allow / or -)\r\n    const parts = value.split(/[\\/\\-]/);\r\n\r\n    if (parts.length !== 3) return false;\r\n\r\n    let day: number;\r\n    let month: number;\r\n    let year: number;\r\n\r\n    switch (this.dateFormat) {\r\n      case \"DD/MM/YYYY\":\r\n        day = Number(parts[0]);\r\n        month = Number(parts[1]);\r\n        year = Number(parts[2]);\r\n        break;\r\n\r\n      case \"MM/DD/YYYY\":\r\n        month = Number(parts[0]);\r\n        day = Number(parts[1]);\r\n        year = Number(parts[2]);\r\n        break;\r\n\r\n      case \"YYYY/MM/DD\":\r\n        year = Number(parts[0]);\r\n        month = Number(parts[1]);\r\n        day = Number(parts[2]);\r\n        break;\r\n\r\n      default:\r\n        return false;\r\n    }\r\n\r\n    // Basic numeric validation\r\n    if (\r\n      !Number.isInteger(day) ||\r\n      !Number.isInteger(month) ||\r\n      !Number.isInteger(year)\r\n    ) {\r\n      return false;\r\n    }\r\n\r\n    // Basic range checks\r\n    if (year < 1000 || year > 9999) return false;\r\n    if (month < 1 || month > 12) return false;\r\n    if (day < 1 || day > 31) return false;\r\n\r\n    // Create date\r\n    const date = new Date(year, month - 1, day);\r\n\r\n    // Strict validation (prevents rollover issues)\r\n    if (\r\n      date.getFullYear() !== year ||\r\n      date.getMonth() !== month - 1 ||\r\n      date.getDate() !== day\r\n    ) {\r\n      return false;\r\n    }\r\n\r\n    return date;\r\n  }\r\n\r\n\taddListeners(): void {\r\n    const inputElements = document.querySelectorAll(this.selector);\r\n    inputElements.forEach((input) => {\r\n      input.addEventListener('click', (event) => {\r\n        const element = event.currentTarget as HTMLInputElement | HTMLButtonElement;\r\n        if (element instanceof HTMLButtonElement && element.dataset.socalendarTarget) {\r\n          const target = document.getElementById(element.dataset.socalendarTarget);\r\n          if (target instanceof HTMLInputElement) {\r\n            target.classList.add('socalendar-target');\r\n            this.targetElement = target;\r\n          } else {\r\n            console.log(`[soCalendar] Target element with id \"${element.dataset.socalendarTarget}\" not found or not an input`);\r\n          }\r\n        } else if (element instanceof HTMLInputElement) {\r\n          input.classList.add('socalendar-target');\r\n          this.targetElement = element;\r\n        } else {\r\n            console.log(`[soCalendar] Button element missing data-socalendar-target attribute for target element.`);\r\n            return;\r\n        }\r\n\r\n        // Check target to see if any options are set\r\n        if (this.targetElement.dataset.minDate) {\r\n            this.minDate = this.parseDateString(this.targetElement.dataset.minDate);\r\n        } else {\r\n          this.minDate = false;\r\n        }\r\n\r\n        if (this.targetElement.dataset.maxDate) {\r\n          this.maxDate = this.parseDateString(this.targetElement.dataset.maxDate);\r\n        } else {\r\n          this.maxDate = false;\r\n        }\r\n\r\n        // Work out the date they have selected already and update our date\r\n        if (this.targetElement.type === 'date' && this.targetElement.value.trim() != '') {\r\n          this.date = new Date(this.targetElement.value);\r\n        } else {\r\n          if (!this.setDateString(this.targetElement.value)) {\r\n            // TODO : ADD MASK\r\n            this.date = this.today;\r\n          }\r\n        }\r\n\r\n        this.year = this.date.getFullYear();\r\n        this.month = this.date.getMonth();\r\n        this.day = this.date.getDate();\r\n        this.generateDatePicker();\r\n        this.updateMonthLabel();\r\n        this.updateYearLabel();\r\n        this.dialog.showModal();\r\n      });\r\n    });\r\n\r\n    // Detect click outside date picker and close\r\n    this.dialog.addEventListener('click', (event) => {\r\n      const rect = this.dialog.getBoundingClientRect();\r\n\r\n      const isInDialog =\r\n        rect.top <= event.clientY &&\r\n        event.clientY <= rect.top + rect.height &&\r\n        rect.left <= event.clientX &&\r\n        event.clientX <= rect.left + rect.width;\r\n\r\n      if (!isInDialog) {\r\n        this.closeCalendar();\r\n      }\r\n    });\r\n\r\n    // Transitions\r\n    this.content.addEventListener('transitionend', (e) => {\r\n      if (e.target !== this.content) return;\r\n      this.content.classList.remove('next', 'prev');\r\n      this.generateDatePicker();\r\n    }, );\r\n\r\n    // Trigger animation for month label\r\n    this.monthLabel.addEventListener('transitionend', () => {\r\n      this.monthLabel.classList.remove('next', 'prev');\r\n      this.updateMonthLabel();\r\n    });\r\n\r\n    // Trigger animation for month label\r\n    this.yearLabel.addEventListener('transitionend', () => {\r\n      this.yearLabel.classList.remove('next', 'prev');\r\n      this.updateYearLabel()\r\n    });\r\n\r\n    // Back button show when picking a month or year\r\n    this.backBtn.addEventListener('click', () => {\r\n      this.generateDatePicker();\r\n    });\r\n    \r\n    // When click to edit date, show date input\r\n    this.editBtn.addEventListener('click', () => {\r\n      this.generateDateInput();\r\n    });\r\n    \r\n    // Go to previous year\r\n    this.prevYearBtn.addEventListener('click', () => { \r\n      this.updateYear(-1) \r\n    });\r\n    \r\n    // Go to previous month\r\n    this.prevMonthBtn.addEventListener('click', () => { \r\n      this.updateMonth(-1) \r\n    });\r\n    \r\n    // Go to next month\r\n    this.nextMonthBtn.addEventListener('click', () => { \r\n      this.updateMonth(1) \r\n    });\r\n    \r\n    // Go to next year\r\n    this.nextYearBtn.addEventListener('click', () => { \r\n      this.updateYear(1); \r\n    });\r\n    \r\n    // Close calendar\r\n    this.cancelBtn.addEventListener('click', () => { \r\n      this.closeCalendar() \r\n    });\r\n    \r\n    // Confirm calendar selection TODO\r\n    this.confirmBtn.addEventListener('click', () => { \r\n      this.closeCalendar() \r\n    });\r\n    \r\n    // Update calendar picker to today\r\n    this.todayBtn.addEventListener('click', () => {\r\n      // TODO, this needs to transition...\r\n      this.year = this.today.getFullYear();\r\n      this.month = this.today.getMonth();\r\n      this.day = this.today.getDate(); \r\n      this.updateYearLabel();\r\n      this.updateMonthLabel();\r\n      this.generateDatePicker();\r\n    });\r\n    \r\n    // Open month picker\r\n    this.monthLabel.addEventListener('click', () => { \r\n      this.generateMonthPicker();\r\n    });\r\n    \r\n    // Open year picker\r\n    this.yearLabel.addEventListener('click', () => {\r\n      console.log('year picker clicked')\r\n      this.generateYearPicker();\r\n    });\r\n  }\r\n\r\n  private setDateString(value: string): boolean {\r\n    const currentDate = this.parseDateString(value.trim());\r\n    if (currentDate instanceof Date) {\r\n      this.date = currentDate;\r\n      return true\r\n    }\r\n    return false;\r\n  }\r\n\r\n  private setDate(date: Date): void {\r\n    if (this.targetElement.type === 'date') {\r\n      const yyyy = date.getFullYear();\r\n      const mm = String(date.getMonth() + 1).padStart(2, \"0\");\r\n      const dd = String(date.getDate()).padStart(2, \"0\");\r\n      this.targetElement.value = `${yyyy}-${mm}-${dd}`;\r\n    } else {\r\n      this.targetElement.value = date.toLocaleDateString(this.locale);\r\n    }\r\n    this.closeCalendar();\r\n  }\r\n\r\n  closeCalendar(): void {\r\n    this.dialog.close();\r\n  }\r\n\r\n  isOpen(): boolean {\r\n    return (this.dialog && this.dialog.classList.contains('socalendar-loaded'));\r\n  }\r\n\r\n  show(): void {\r\n    if (this.isOpen()) return;\r\n    this.dialog.classList.add('socalendar-loaded');\r\n  }\r\n\r\n  private toggleElements(ids: string[], hide: boolean = false, cssclass: string = 'socalendar-hidden'): void {\r\n    ids.forEach((id) => {\r\n      const element = document.getElementById(id);\r\n      if (element) element.classList.toggle(cssclass, hide);\r\n    });\r\n  }\r\n\r\n  restrictCharacters(\r\n      field: HTMLInputElement,\r\n      event: KeyboardEvent\r\n    ) {\r\n      const ignoreKeys = [\r\n        'ArrowRight',\r\n        'ArrowLeft',\r\n        'ArrowUp',\r\n        'ArrowDown',\r\n        'Backspace',\r\n        'Delete',\r\n        'Tab',\r\n        'Insert',\r\n        'Home',\r\n        'End',\r\n        'PageUp',\r\n        'PageDown',\r\n      ];\r\n\r\n      // Ignore the usual keys (Some things to consider altKey, ctrlKey, metaKey or shiftKey)\r\n      if ((event.key && ignoreKeys.includes(event.key)) || event.ctrlKey || event.metaKey)\r\n        return true;\r\n\r\n      // if they pressed esc... remove focus from field...\r\n      if (event.key === 'Escape') {\r\n        field.blur();\r\n        return false;\r\n      }\r\n\r\n      if (!event.key.match(this.dateRestrictions)) {\r\n        event.preventDefault();\r\n        return false;\r\n      }\r\n    }\r\n\r\n  formatDateInput(digits: string, format = \"dd/MM/yyyy\") {\r\n    const parts = {\r\n      dd: digits.slice(0, 2),\r\n      MM: digits.slice(2, 4),\r\n      yyyy: digits.slice(4, 8),\r\n    };\r\n\r\n    return format\r\n      .replace(\"dd\", parts.dd || \"\")\r\n      .replace(\"MM\", parts.MM || \"\")\r\n      .replace(\"yyyy\", parts.yyyy || \"\")\r\n      .replace(/\\/+/g, (match, offset) => {\r\n        // remove trailing separators\r\n        return offset < digits.length ? match : \"\";\r\n      });\r\n  }\r\n\r\n  private generateDateInput(): void {\r\n    this.toggleElements(['soCalendar-back'], false);\r\n    this.toggleElements(['soCalendar-edit'], true);\r\n    this.contentCurrent.innerHTML = `\r\n      <div class=\"socalendar-date-editor socalendar-row\">\r\n        <input class=\"socalendar-input\" id=\"soCalendar-input\" type=\"text\" inputmode=\"numeric\" pattern=\"[0-9]{4}\" maxlength=\"10\" placeholder=\"${this.dateFormat}\" mask=\"0000-00-00\" />\r\n        <button type=\"button\" disabled id=\"soCalendar-date-confirm\" class=\"socalendar-input-button \">${this.iconConfirm}</button>\r\n      </div>\r\n    `;\r\n    \r\n    // Watch the date input field - restrict characters and ask input mask\r\n    const dateInput = document.getElementById(\"soCalendar-input\") as HTMLInputElement;\r\n    const dateConfirm = document.getElementById(\"soCalendar-date-confirm\") as HTMLButtonElement;\r\n\r\n    if (dateInput instanceof HTMLInputElement) {\r\n      dateInput.focus();\r\n      dateInput.addEventListener('keydown', (event: KeyboardEvent) => {\r\n        if (event.key === \"Enter\") {\r\n          event.preventDefault();\r\n          if (event.target instanceof HTMLInputElement && event.target.getAttribute('mask') && event.target.getAttribute('mask')!.length === event.target.value.length) {\r\n            this.setDateString(event.target.value);\r\n            this.year = this.date.getFullYear();\r\n            this.month = this.date.getMonth();\r\n            this.day = this.date.getDate();\r\n            this.generateDatePicker();\r\n            this.updateMonthLabel();\r\n            this.updateYearLabel();\r\n          }\r\n        }\r\n        this.restrictCharacters(dateInput, event);\r\n      });\r\n      dateInput.addEventListener('input', (e) => this.applyMask(e));\r\n      dateInput.addEventListener('paste', (e) => this.applyMask(e));\r\n    }\r\n\r\n    dateConfirm.addEventListener('click', (event: MouseEvent) => {\r\n      alert(\"confirm\");\r\n      this.setDateString(dateInput.value);\r\n      this.year = this.date.getFullYear();\r\n      this.month = this.date.getMonth();\r\n      this.day = this.date.getDate();\r\n      this.generateDatePicker();\r\n      this.updateMonthLabel();\r\n      this.updateYearLabel();\r\n    });\r\n  }\r\n\r\n  \r\n  private applyMask = (event: Event): void => {\r\n    const confirm = document.getElementById('soCalendar-date-confirm') as HTMLButtonElement;\r\n    const maskPattern = \"00/00/0000\";\r\n    const target = event.target;\r\n\r\n    if (!(target instanceof HTMLInputElement)) return;\r\n\r\n    const value = target.value;\r\n    const pureValue = value.replace(/[^a-zA-Z0-9]/g, '');\r\n\r\n    if (value.trim() === '') return;\r\n    \r\n    let maskedValue = '';\r\n    let cursorPos = target.selectionStart || 0;\r\n    let valueIdx = 0;\r\n    \r\n    for (let i = 0; i < maskPattern.length; i++) {\r\n      if (valueIdx >= pureValue.length) break;\r\n\r\n      const inputChar = pureValue[valueIdx];\r\n      if (maskPattern[i] !== '0' && maskPattern[i] !== 'A') {\r\n        maskedValue += maskPattern[i]\r\n        continue\r\n      }\r\n\r\n      if (maskPattern[i] === '0' && !/\\d/.test(inputChar)) break;\r\n      if (maskPattern[i] === 'A' && !/[a-zA-Z]/.test(inputChar)) break;\r\n\r\n      maskedValue += pureValue[valueIdx++]\r\n\r\n      let nextChar = maskPattern[i + 1]\r\n\r\n      if (nextChar && nextChar !== '0' && nextChar !== 'A') {\r\n        maskedValue += nextChar\r\n        i++\r\n      }\r\n    }\r\n    target.value = maskedValue;\r\n    let inCursorPos = maskedValue[cursorPos - 1]\r\n\r\n    if (maskPattern[cursorPos] != '0' && maskPattern[cursorPos] != 'A') {\r\n      cursorPos++;\r\n    }\r\n\r\n    if (maskedValue.length > cursorPos) {\r\n      while (!/\\d/.test(inCursorPos) && !/[a-zA-Z]/.test(inCursorPos)) {\r\n        inCursorPos = maskedValue[cursorPos - 1];\r\n        cursorPos++;\r\n      }\r\n    }\r\n\r\n    target.setSelectionRange(cursorPos, cursorPos);\r\n    confirm.disabled = maskedValue.length !== maskPattern.length;\r\n  }\r\n\r\n  private generateYearPicker(year?: number | null): void {\r\n    if (!year) year = this.year;\r\n\r\n    // Set the view and tidy up classes\r\n    this.dialog.dataset.socalendarView = 'year';\r\n    this.content.classList.remove('next', 'prev');\r\n\r\n    this.toggleElements(['soCalendar-back', 'soCalendar-edit'], false);\r\n    this.toggleElements(['soCalendar-footer', \r\n      'soCalendar-content-month',\r\n      'soCalendar-prev-year',\r\n      'soCalendar-prev-month',\r\n      'soCalendar-next-month',\r\n      'soCalendar-next-year'\r\n    ], true);    \r\n\r\n    // Clear the other content areas\r\n    this.contentPrev.innerHTML = '';\r\n    this.contentNext.innerHTML = '';\r\n\r\n    let yearPickerHTML: string = '';\r\n\r\n    // TODO, disabled outside min and max\r\n\r\n    const decadeStart = Math.floor(year / 10) * 10;\r\n    for (let offset = -1; offset <= 1; offset++) {\r\n      const thisDecade = decadeStart + (10 * offset);\r\n      yearPickerHTML += `\r\n        <ol class=\"socalendar-year-picker\">\r\n          ${Array.from({ length: 10 }, (_, i) => {\r\n            const year = thisDecade + i;\r\n            return `\r\n              <li>\r\n                <button type=\"button\" class=\"socalendar-button ${this.year === year?\"selected\":\"\"} socalendar-select-year\" data-year=\"${year}\">\r\n                  ${year}\r\n                </button>\r\n              </li>\r\n            `;\r\n          }).join(\"\")}\r\n        </ol>\r\n      `;\r\n    }\r\n    this.contentCurrent.innerHTML = `\r\n      <div class=\"socalendar-year-picker-container\">\r\n        <div class=\"socalendar-year-picker-scroller socalendar-row\">\r\n          <button type=\"button\" id=\"soCalendar-decade-prev\">${this.iconPreviousDecade}</button>\r\n          <span class=\"socalendar-year-picker-label\" id=\"soCalendar-year-picker-label\">\r\n            <span class=\"year-value\">${decadeStart}</span> \r\n            <svg class=\"separator\" xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" fill=\"currentColor\" viewBox=\"0 0 256 256\"><path d=\"M221.66,133.66l-72,72a8,8,0,0,1-11.32-11.32L196.69,136H40a8,8,0,0,1,0-16H196.69L138.34,61.66a8,8,0,0,1,11.32-11.32l72,72A8,8,0,0,1,221.66,133.66Z\"></path></svg>\r\n            <span class=\"year-value\">${decadeStart+9}</span>\r\n          </span>\r\n          <button type=\"button\" id=\"soCalendar-decade-next\">${this.iconNextDecade}</button>\r\n        </div>\r\n        <div class=\"socalendar-year-picker-wrapper\">\r\n          <div class=\"socalendar-year-picker-inner\" id=\"soCalendar-year-picker-inner\">\r\n            ${yearPickerHTML}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    `;\r\n\r\n    const yearPickerInner = document.getElementById('soCalendar-year-picker-inner')!;\r\n    const prevDecade = document.getElementById('soCalendar-decade-prev')!;\r\n    const nextDecade = document.getElementById('soCalendar-decade-next')!;\r\n\r\n    prevDecade.addEventListener('click', () => {\r\n      yearPickerInner.addEventListener('transitionend', () => {\r\n        yearPickerInner.classList.remove('next', 'prev');\r\n        this.year-=10;\r\n        this.generateYearPicker(decadeStart - 10);\r\n      });\r\n      yearPickerInner.classList.add('prev');\r\n    });\r\n  \r\n    nextDecade.addEventListener('click', () => {\r\n      yearPickerInner.addEventListener('transitionend', () => {\r\n        yearPickerInner.classList.remove('next', 'prev');\r\n        this.year+=10;\r\n        this.generateYearPicker(decadeStart + 10);\r\n      });\r\n      yearPickerInner.classList.add('next');\r\n    });\r\n    \r\n    // Add button event listeners\r\n    const calendarButtons = this.dialog.querySelectorAll<HTMLButtonElement>(\"#soCalendar button.socalendar-select-year\");\r\n    calendarButtons.forEach((b) => {\r\n      b.addEventListener('click', (event) => {\r\n        const button = event.currentTarget;\r\n        if (button instanceof HTMLButtonElement) {\r\n          const year = Number(button.dataset.year);\r\n          if (year) {\r\n            this.year = year;\r\n            this.updateYearLabel();\r\n            this.generateMonthPicker();\r\n          }\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  // This updates the main calendar content area to show month picker\r\n  private generateMonthPicker():void {\r\n\r\n    // Set the view and tidy up classes\r\n    this.dialog.dataset.socalendarView = 'month';\r\n    this.content.classList.remove('next', 'prev');\r\n\r\n    this.toggleElements(['soCalendar-back', 'soCalendar-edit'], false);\r\n    this.toggleElements(['soCalendar-footer', \r\n      'soCalendar-prev-year',\r\n      'soCalendar-prev-month',\r\n      'soCalendar-next-month',\r\n      'soCalendar-next-year'\r\n    ], true);\r\n    \r\n    this.contentCurrent.innerHTML = `<ol class=\"socalendar-month-picker\">\r\n      ${[0,1,2,3,4,5,6,7,8,9,10,11]\r\n      .map(i => `\r\n        <li>\r\n          <button type=\"button\" class=\"socalendar-button soCalendar-select-month\" data-month=\"${i}\">\r\n            ${this.getMonthName(i, 'long')}\r\n          </button>\r\n        </li>\r\n      `).join(\"\")}\r\n    </ol>\r\n    `;\r\n\r\n    // Add button event listeners\r\n    const calendarButtons = this.dialog.querySelectorAll<HTMLButtonElement>(\"#soCalendar button.soCalendar-select-month\");\r\n    calendarButtons.forEach((button) => {\r\n      button.addEventListener('click', (event) => {\r\n        const button = event.currentTarget;\r\n        if (button instanceof HTMLButtonElement) {\r\n          console.log('buttn ok');\r\n\r\n        const month = Number(button.dataset.month);\r\n          console.log(month);\r\n          if (month) {\r\n            this.month = month;\r\n            this.updateMonthLabel();\r\n            this.generateDatePicker();\r\n          }\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  // Generate a datepicker which contains previous, current and next month for scrolling\r\n\tgenerateDatePicker(): void {\r\n\r\n    // Set the view and tidy up classes\r\n    this.dialog.dataset.socalendarView = 'date';\r\n    this.content.classList.remove('next', 'prev');\r\n\r\n    this.toggleElements(['soCalendar-back', 'soCalendar-edit'], true);\r\n    this.toggleElements([\r\n      'soCalendar-footer', \r\n      'soCalendar-prev-year',\r\n      'soCalendar-prev-month',\r\n      'soCalendar-next-month',\r\n      'soCalendar-next-year'\r\n    ], false);\r\n\r\n    const todayY = this.today.getFullYear();\r\n    const todayM = this.today.getMonth();\r\n    const todayD = this.today.getDate();\r\n\r\n    const targets: HTMLElement[] = [this.contentPrev, this.contentCurrent, this.contentNext];\r\n\r\n    for (let offset = -1; offset <= 1; offset++) {\r\n\r\n      // Compute correct month/year for this iteration\r\n      const baseDate = new Date(this.year, this.month + offset, 1);\r\n      const viewYear = baseDate.getFullYear();\r\n      const viewMonth = baseDate.getMonth();\r\n\r\n      const firstDayOfMonth = new Date(viewYear, viewMonth, 1);\r\n      const monthDays = this.daysInMonth(viewYear, viewMonth);\r\n\r\n      let startDay = firstDayOfMonth.getDay();\r\n      if (this.weekStartsOnMonday) startDay = (startDay + 6) % 7;\r\n\r\n      const prevMonthDate = new Date(viewYear, viewMonth - 1, 1);\r\n      const prevMonth = prevMonthDate.getMonth();\r\n      const prevYear = prevMonthDate.getFullYear();\r\n      const prevMonthDays = this.daysInMonth(prevYear, prevMonth);\r\n\r\n      const totalCells = 6 * 7;\r\n\r\n      const days: {\r\n        day: number;\r\n        month: number;\r\n        year: number;\r\n        outside: boolean;\r\n        isToday: boolean;\r\n        isCurrent: boolean;\r\n        isDisabled: boolean;\r\n        isMinDate: boolean;\r\n        isMaxDate: boolean;\r\n      }[] = [];\r\n\r\n      for (let i = 0; i < totalCells; i++) {\r\n        let day: number;\r\n        let month = viewMonth;\r\n        let year = viewYear;\r\n        let outside = false;\r\n\r\n        if (i < startDay) {\r\n          day = prevMonthDays - startDay + i + 1;\r\n          month = prevMonth;\r\n          year = prevYear;\r\n          outside = true;\r\n\r\n        } else if (i >= startDay + monthDays) {\r\n          const nextMonthDate = new Date(viewYear, viewMonth + 1, 1);\r\n          day = i - (startDay + monthDays) + 1;\r\n          month = nextMonthDate.getMonth();\r\n          year = nextMonthDate.getFullYear();\r\n          outside = true;\r\n\r\n        } else {\r\n          day = i - startDay + 1;\r\n        }\r\n\r\n        const cellDate = new Date(year, month, day);\r\n\r\n        // If the current cell is todays date, mark it as today\r\n        const isToday = \r\n          !outside &&\r\n          day === todayD &&\r\n          month === todayM &&\r\n          year === todayY;\r\n\r\n        // If the current cell is this.date, mark it as current\r\n        const isCurrent = this.date.getTime() === cellDate.getTime();\r\n          // day === this.day &&\r\n          // month === this.month &&\r\n          // year === this.year;\r\n\r\n        const isDisabled = (this.minDate && new Date(year, month, day) < this.minDate || this.maxDate && new Date(year, month, day) > this.maxDate);\r\n        \r\n        const isMinDate = this.minDate instanceof Date && new Date(year, month, day).getTime() === this.minDate.getTime();\r\n        const isMaxDate = this.maxDate instanceof Date && new Date(year, month, day).getTime() === this.maxDate.getTime();\r\n\r\n        days.push({ day, month, year, outside, isToday, isCurrent, isDisabled, isMinDate, isMaxDate });\r\n      }\r\n\r\n      targets[offset + 1].innerHTML = `\r\n        <table class=\"socalendar-date-picker\" cellpadding=\"0\" cellspacing=\"0\">\r\n          <caption class=\"socalendar-visually-hidden\">\r\n            ${this.getMonthName(viewMonth, \"long\")} ${viewYear}\r\n          </caption>\r\n          <tr>\r\n            ${[0,1,2,3,4,5,6].map(i => `\r\n              <th>${this.getWeekDay(i)}</th>\r\n            `).join(\"\")}\r\n          </tr>\r\n          ${[0,1,2,3,4,5].map(row =>\r\n            `<tr>\r\n              ${[0,1,2,3,4,5,6].map(col => {\r\n                const cell = days[row * 7 + col];\r\n                const label = `${cell.day} ${this.getMonthName(cell.month, \"long\")} ${cell.year}`;\r\n                const classes = [\r\n                  \"socalendar-button\",\r\n                  \"soCalendar-select-date\",\r\n                  cell.outside ? \"is-outside-month\" : \"\",\r\n                  cell.isToday ? \"is-today\" : \"\",\r\n                  cell.isCurrent ? \"is-current\" : \"\",\r\n                  cell.isMinDate ? \"is-min-date\" : \"\",\r\n                  cell.isMaxDate ? \"is-max-date\" : \"\"\r\n                ].filter(Boolean).join(\" \");\r\n\r\n                return `\r\n                  <td>\r\n                    <button\r\n                      aria-label=\"${label}\"\r\n                      type=\"button\"\r\n                      class=\"${classes}\"\r\n                      data-year=\"${cell.year}\"\r\n                      data-month=\"${cell.month}\"\r\n                      data-day=\"${cell.day}\"\r\n                      ${cell.isDisabled ? \"disabled\" : \"\"}\r\n                    >\r\n                      ${cell.day}\r\n                    </button>\r\n                  </td>\r\n                `;\r\n              }).join(\"\")}\r\n            </tr>`\r\n          ).join(\"\")}\r\n        </table>\r\n      `;\r\n    }\r\n\r\n    // Check elements based on new date\r\n    this.updateDate();\r\n\r\n    // Add button event listeners\r\n    const calendarButtons = this.dialog.querySelectorAll<HTMLButtonElement>(\"#soCalendar button.soCalendar-select-date\");\r\n    calendarButtons.forEach((b) => {\r\n      b.addEventListener('click', (event) => {\r\n        const button = event.currentTarget;\r\n        if (button instanceof HTMLButtonElement) {\r\n          const year = button.dataset.year;\r\n          const month = button.dataset.month;\r\n          const day = button.dataset.day;\r\n          if (year && month && day) {\r\n            this.setDate(new Date(Number(year), Number(month), Number(day)));\r\n          }\r\n        }\r\n      });\r\n    });\r\n  }\r\n}"],
  "mappings": "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",
  "names": ["year", "button"]
}
